<p>dashboard works!</p>

<div *ngIf="auth.isAdmin()">
	<div id="memoryChart" [chart]="memoryChart"></div>

	<div class="mat-elevation-z8 margin-top">
		<table mat-table [dataSource]="dataSource" matSort matSortActive="name" matSortDisableClear matSortDirection="asc">

			<ng-container matColumnDef="datasetName">
				<th mat-header-cell *matHeaderCellDef mat-sort-header>Dataset</th>
				<td mat-cell *matCellDef="let timeserie">
					<a routerLink="/datasets/{{ timeserie.datasetName }}">
						{{ timeserie.datasetName }}
					</a>
				</td>
			</ng-container>

			<ng-container matColumnDef="nodeName">
				<th mat-header-cell *matHeaderCellDef mat-sort-header>Node</th>
				<td mat-cell *matCellDef="let timeserie">
					<a routerLink="/datasets/{{ timeserie.datasetName }}/nodes/{{ timeserie.nodeName }}">
						{{ timeserie.nodeName }}
					</a>
				</td>
			</ng-container>

			<ng-container matColumnDef="sensorName">
				<th mat-header-cell *matHeaderCellDef mat-sort-header>Sensor</th>
				<td mat-cell *matCellDef="let timeserie">
					<a routerLink="/datasets/{{ timeserie.datasetName }}/nodes/{{ timeserie.nodeName }}/sensors/{{ timeserie.sensorName }}">
						{{ timeserie.sensorName }}
					</a>
				</td>
			</ng-container>

			<ng-container matColumnDef="samples">
				<th mat-header-cell *matHeaderCellDef mat-sort-header>Readings</th>
				<td mat-cell *matCellDef="let timeserie">{{ timeserie.samples }}</td>
			</ng-container>

			<ng-container matColumnDef="memory">
				<th mat-header-cell *matHeaderCellDef mat-sort-header>Memory</th>
				<td mat-cell *matCellDef="let timeserie">{{ utils.printFilesize(timeserie.memory) }}</td>
			</ng-container>

			<ng-container matColumnDef="retention">
				<th mat-header-cell *matHeaderCellDef mat-sort-header>Retention</th>
				<td mat-cell *matCellDef="let timeserie">{{ utils.getDeltaTime(timeserie.retention*1000) }}</td>
			</ng-container>

			<tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
			<tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
		</table>

		<div [hidden]="dataSource.data.length <= 10">
			<mat-paginator [pageSizeOptions]="[10, 100]"></mat-paginator>
		</div>
	</div>
</div>
